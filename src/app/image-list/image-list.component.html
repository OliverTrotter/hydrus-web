<virtual-scroller class="virtual-scroll" #scroll [items]="currentFiles" (vsEnd)="fetchMore($event)" [parentScroll]="appComponent.sidenavContent.getElementRef().nativeElement" [bufferAmount]="12">
  <ul class="mdc-image-list browse-image-list" #container>

    <li class="mdc-image-list__item grid-img" *ngFor="let file of scroll.viewPortItems; trackBy: scrollTrackByFunction">
      <a [href]="file.file_url" (click)="$event.preventDefault(); this.photoswipe.openPhotoSwipe(file.file_id);">
        <div class="mdc-image-list__image-aspect-container">
          <!-- <img class="mdc-image-list__image" [src]="getThumbnailURL(file.file_id)"> -->
          <div class="mdc-image-list__image image-list-image" [ngStyle]="{'background-image':'url('+ file.thumbnail_url +')'}" [ngClass]="'file-id-' + file.file_id"></div>
        </div>
      </a>

    </ul>
    <div *ngIf="loading" class="loader"><mat-spinner class="spinner"></mat-spinner></div>
  </virtual-scroller>


  <app-photoswipe [items]="this.currentFiles"></app-photoswipe>
